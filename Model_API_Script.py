import json
import boto3

# Define the endpoint name
endpoint_name = 'guardiana-endpoint'

# Create a session using AWS credentials
session = boto3.Session()

# Create a SageMaker runtime client
sagemaker_runtime = session.client('sagemaker-runtime')

# Define a sample input payload in JSON format
sample_input = {
    "feature1": [1, 2, 3],
    "feature2": [4, 5, 6]
}

# Convert the input to JSON string
input_payload = json.dumps(sample_input)

# Define the content type of the input payload
content_type = 'application/json'

# Perform a real-time inference by sending a request to the SageMaker endpoint
response = sagemaker_runtime.invoke_endpoint(
    EndpointName=endpoint_name,
    ContentType=content_type,
    Body=input_payload
)

# Read the response from the endpoint
response_body = response['Body'].read()

# Parse the JSON response
predictions = json.loads(response_body)

# Print the predictions
print("Predictions:", predictions)
